# creating-pr-on-issue 設計メモ

スキル管理用メタデータ。実行時には読み込まれない。

## コンセプト

PR 作成 + セルフレビューループの統合スキル。ファイルカテゴリに応じてレビュアースキルを自動ルーティングし、収束するまで修正→再レビューを繰り返す。

```
PR 作成 → ファイル分類 → レビュアー選択 → [修正 → 再レビュー]* → Status Review
```

### セルフレビューループ

| 安全ゲート | 条件 |
|-----------|------|
| 収束チェック | `critical + fixable-warning` が 2 イテレーション連続で非減少 → 停止 |
| 最大イテレーション | 5 回で強制停止 |
| スコープ外 | 修正不可の指摘 → フォローアップ Issue 作成 |

### ステータス制約

セルフレビュー**中**は In Progress を維持。Review への遷移はセルフレビュー完了後のみ。

### ファイルカテゴリルーティング

| カテゴリ | レビュアー |
|---------|----------|
| Claude 設定ファイル | `reviewing-claude-config` |
| コード / ドキュメント | `reviewing-on-issue` |

## トリガーキーワード

SKILL.md の frontmatter `description` フィールドに定義。スキル選択はこのフィールドでマッチングされる。

- "PR 作成", "プルリクエスト作成", "create pull request"
